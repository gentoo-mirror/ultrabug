From 047e1dcd5b2620b05d8c2a2dc93a6edea9e47ff1 Mon Sep 17 00:00:00 2001
From: Ultrabug <ultrabug@gentoo.org>
Date: Wed, 3 May 2017 17:19:25 +0200
Subject: [PATCH 02/13] detect gentoo linux on selinux setup

---
 dist/common/scripts/scylla_selinux_setup | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/dist/common/scripts/scylla_selinux_setup b/dist/common/scripts/scylla_selinux_setup
index 9d652bfd..234631dc 100755
--- a/dist/common/scripts/scylla_selinux_setup
+++ b/dist/common/scripts/scylla_selinux_setup
@@ -4,7 +4,11 @@
 
 . /usr/lib/scylla/scylla_lib.sh
 
-if ! is_debian_variant; then
+if is_debian_variant; then
+    echo "scylla_selinux_setup only supports Red Hat variants"
+elif is_gentoo_variant; then
+    echo "scylla_selinux_setup only supports Red Hat variants"
+else
     if [ "`sestatus | awk '{print $3}'`" != "disabled" ]; then
         setenforce 0
         sed -e "s/enforcing/disabled/" /etc/sysconfig/selinux > /tmp/selinux
-- 
2.12.2

